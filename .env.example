# =============================================================================
# Commander Configuration Example
# =============================================================================
# Copy this file to .env and update with your actual values
# Usage: cp .env.example .env

# =============================================================================
# Server Configuration
# =============================================================================
SERVER_PORT=8080
ENVIRONMENT=STANDARD

# =============================================================================
# Database Backend Selection
# =============================================================================
# Choose one of: bbolt, mongodb, redis
# Default: bbolt (embedded database, no external dependencies)
DATABASE=bbolt

# =============================================================================
# BBolt Configuration (Embedded Database)
# =============================================================================
# Used when DATABASE=bbolt
# BBolt is an embedded key-value database (no external server required)
# Best for: Edge devices, single-node deployments, development

# Data directory path (will be created if it doesn't exist)
DATA_PATH=/var/lib/stayforge/commander

# Example namespace files created:
# - /var/lib/stayforge/commander/default.db
# - /var/lib/stayforge/commander/production.db

# =============================================================================
# MongoDB Configuration (Cloud/NoSQL Database)
# =============================================================================
# Used when DATABASE=mongodb
# Best for: Cloud deployments, distributed systems, complex queries

# MongoDB connection URI
# Format: mongodb+srv://username:password@cluster.mongodb.net/
# Example: mongodb+srv://admin:pass123@cluster0.abc123.mongodb.net/
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/

# Note: Namespace → Database, Collection → Collection in MongoDB

# =============================================================================
# Redis Configuration (In-Memory Database)
# =============================================================================
# Used when DATABASE=redis
# Best for: High-performance caching, session storage, distributed systems

# Redis connection URI
# Format: redis://[:password@]host[:port][/database]
# Examples:
#   redis://localhost:6379/0                    (local, no auth)
#   redis://:mypassword@localhost:6379/0        (local, with password)
#   redis://user:pass@redis-server:6380/1       (remote, with auth)
REDIS_URI=redis://localhost:6379/0

# Note: Keys are stored as "namespace:collection:key" in Redis

# =============================================================================
# Configuration Examples by Use Case
# =============================================================================

# --- Development (Local) ---
# DATABASE=bbolt
# DATA_PATH=./data

# --- Production (Edge Device) ---
# DATABASE=bbolt
# DATA_PATH=/var/lib/stayforge/commander
# ENVIRONMENT=PRODUCTION

# --- Production (Cloud with MongoDB) ---
# DATABASE=mongodb
# MONGODB_URI=mongodb+srv://admin:pass@cluster.mongodb.net/
# ENVIRONMENT=PRODUCTION

# --- Production (High Performance with Redis) ---
# DATABASE=redis
# REDIS_URI=redis://:password@redis-server:6379/0
# ENVIRONMENT=PRODUCTION

# =============================================================================
# Quick Start Guide
# =============================================================================
# 1. Copy this file: cp .env.example .env
# 2. Choose your database backend (edit DATABASE=...)
# 3. Configure the selected database section
# 4. Run the service: go run cmd/server/main.go
# 5. Test: curl http://localhost:8080/health

# =============================================================================
# Database Backend Comparison
# =============================================================================
#
# BBolt (Embedded):
#   ✓ No external dependencies
#   ✓ Zero configuration
#   ✓ Perfect for edge devices
#   ✓ File-based storage
#   ✗ Single-node only
#   ✗ No built-in replication
#
# MongoDB (Cloud):
#   ✓ Cloud-native (MongoDB Atlas)
#   ✓ Distributed and replicated
#   ✓ Complex queries supported
#   ✓ Automatic backups
#   ✗ Requires external service
#   ✗ Network latency
#
# Redis (In-Memory):
#   ✓ Extremely fast (in-memory)
#   ✓ High concurrency support
#   ✓ Distributed clustering
#   ✓ Pub/sub capabilities
#   ✗ Data persistence optional
#   ✗ Memory constraints
